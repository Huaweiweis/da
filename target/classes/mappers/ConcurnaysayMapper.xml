<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.zcf.mapper.ConcurnaysayMapper">

    <!-- 通用查询映射结果 -->
    <resultMap id="BaseResultMap" type="com.zcf.pojo.Concurnaysay">
        <id column="concurnaysay_id" property="concurnaysayId" />
        <result column="userid" property="userid" />
        <result column="leixing" property="leixing" />
        <result column="zhuangtai" property="zhuangtai" />
        <result column="shangxiatime" property="shangxiatime" />
        <result column="caozuoren" property="caozuoren" />
        <result column="caozuotime" property="caozuotime" />
        <result column="money" property="money" />
    </resultMap>

    <!-- 通用查询结果列 -->
    <sql id="Base_Column_List">
        concurnaysay_id, userid, leixing, zhuangtai, shangxiatime, caozuoren, caozuotime,money
    </sql>

	<select id="jilu" resultMap="BaseResultMap">
		SELECT
	a.*,
c.user_nickname yonghu,
d.user_nickname caozuorenxingm
FROM
	concurnaysay a
LEFT JOIN users c ON c.user_id = a.userid
LEFT JOIN users d ON d.user_id = a.caozuoren
<where>
	c.user_nickname LIKE "%"#{nicheng}"%"
</where>
	</select>
</mapper>
